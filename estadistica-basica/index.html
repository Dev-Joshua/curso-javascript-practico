<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Taller de Matematicas de Javascript</h1>
    <script>
      //PROMEDIO
      let arrayList = [323, 731, 890, 1220, 150];
      let listaMediana = [5, 8, 23, 4, 10];

      //Ordenar una lista con el metodo sort de manera mas corta
      //si la resta de a-b da un resultado negativo no lo mueve(-1), si da (0) no lo mueve, si da positivo hace el flip(1).
      const listaOrdenada = listaMediana.sort((a, b) => a - b);
      console.log(listaOrdenada);

      //Ordenar una lista mediante una funcion mas larga
      function ordenarLista(listaMediana) {
        function ordenarListaSort(valorAcumulado, nuevoValor) {
          if (valorAcumulado > nuevoValor) {
            //Si el valor acumulado es mayor al nuevo valor de la iteracion hace el flip y lo pasa para atras del valorAcumulado
            return 1;
          } else if (valorAcumulado == nuevoValor) {
            //Se deja igual
            return 0;
          } else if (valorAcumulado < nuevoValor) {
            //Si el nuevo valor es mayor al que tenemos en valorAcumulado se deja igual en su posicion
            return -1;
          }
        }
        //Si queremos la lista ordenada de mayor a menor es de esta forma
        // return -1
        // return 0
        // return 1

        //A la mayoria de metodos como el .sort debemos enviarle una funcion(anonima, nombre de una funcion o arrow function)
        const lista = listaMediana.sort(ordenarListaSort);

        return lista;
      }

      function calcularPromedio(array) {
        // let sumaList = 0;

        //Sumar todos los elementos del array mediante un ciclo for
        // for (let i = 0; i < array.length; i++) {
        //   sumaList = sumaList + array[i];
        // }

        //Reducimos toda la lista de elementos a un unico valor //Suma de todos los elmeentos del array
        // function sumarElementos(valorAcumulado, nuevoValor) {
        //   return valorAcumulado + nuevoValor;
        // }

        // //Metodo reduce()
        // const sumaList = array.reduce(sumarElementos);

        //Manera mas corta utilizando una arrow function () => {} en vez de la function sumarElementos
        const sumaList = array.reduce(
          (acumulador, nuevoValor) => acumulador + nuevoValor
        );

        //Se divide el total de la suma en la cantidad de elementos
        const promedio = sumaList / array.length;
        console.log(sumaList);

        return promedio;
      }

      function esPar(lista) {
        //Los condicionales toman un 0 como false. Por lo tanto no se ejecuta el codigo
        // if (lista.length % 2) {
        //   return false;
        // } else {
        //   return true;
        // }
        return !(lista.length % 2);
      }
      function esImpar(lista) {
        return lista.length % 2;
      }

      function calcularModa(lista) {
        //Creo un objeto.(key, value) => la key sera el elemento de mi lista, el value la cantidad de veces que ha aparecido este elemento en mi lista
        const listaCount = {};

        //Guardo el registro de cada vez que aparezca un elemento en mi lista
        for (let i = 0; i < lista.length; i++) {
          const elemento = lista[i];

          //Si ya existe este elemento de mi lista entonces:
          if (listaCount[elemento]) {
            listaCount[elemento] += 1;
          } else {
            //Si no ha aparecido un mismo elemento
            listaCount[elemento] = 1;
          }
          //Para validar si ya habia aparecido este elemento(cada posicion de mi array) antes, y si si! agregarle una nueva cuenta
        }

        console.log(listaCount);
      }

      function calcularMediana(lista) {
        const listaEsPar = esPar(lista);

        if (listaEsPar) {
          const index1 = Math.round(lista.length / 2) - 1;
          const index2 = Math.round(lista.length / 2);
          const medianaListaPar = (lista[index1] + lista[index2]) / 2;
          console.log(medianaListaPar);
        } else {
          //Sacamos el elemento de la mitad de la lista impar
          const indexMitadListaImpar = Math.floor(lista.length / 2);
          const medianaListaImpar = lista[indexMitadListaImpar];
          console.log(indexMitadListaImpar);
          console.log(medianaListaImpar);
        }
      }

      calcularPromedio(arrayList);
    </script>
  </body>
</html>

<!-- 
    Promedio: Tambien llamado media aritmÃ©tica que se calcula asi
        -> Se suman todos los elementos y se dividen entre la cantidad de elementos
           venta1 + venta2 + venta3 / cantidad de ventas(3)
    
    Mediana: Es el valor que se ubica en la mitad de la lista de valores ordenados cuando la lista es impar, 
             cuando la lista es par se toman los dos valores centrales, se suman y se divide entre dos.
        -> $450 {$500} $600
        -> sueldo1 {sueldo2 sueldo3} sueldo4 => sueldo2+sueldo3 / 2
    
    Moda: Consiste en encontrar el valor que se repita mayor cantidad de veces en una lista de valores
        -> 1, 10, (14), 3, 24, (14), 10, 35, 13, (14)
          El dato que mas veces se repitio fue el 14
   -->
